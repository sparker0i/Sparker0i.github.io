<!DOCTYPE html>
<html lang="en" class="auto-color">
<head>

    <title>Scala: Add new functions to existing classes</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="preload" as="style" href="/assets/built/screen.css?v=fe10ead0d3" />
    <link rel="preload" as="script" href="/assets/built/casper.js?v=fe10ead0d3" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=fe10ead0d3" />

    <meta name="description" content="Why extend classes to add a small functionality, when you could just write an implicit class? Read my post on how you can take advantage of that in Scala">
    <link rel="icon" href="https://blog.sparker0i.me/content/images/size/w256h256/2020/02/Untitled.png" type="image/png">
    <link rel="canonical" href="https://blog.sparker0i.me/scala-add-new-functions-to-existing-class/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="https://blog.sparker0i.me/scala-add-new-functions-to-existing-class/amp/">
    
    <meta property="og:site_name" content="Sparker0i&#x27;s Blog">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Scala: Add new functions to existing classes">
    <meta property="og:description" content="Why extend classes to add a small functionality, when you could just write an implicit class? Read my post on how you too can take advantage of that in Scala">
    <meta property="og:url" content="https://blog.sparker0i.me/scala-add-new-functions-to-existing-class/">
    <meta property="og:image" content="https://blog.sparker0i.me/content/images/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png">
    <meta property="article:published_time" content="2020-04-10T18:09:42.000Z">
    <meta property="article:modified_time" content="2020-05-08T17:18:55.000Z">
    <meta property="article:tag" content="Scala">
    
    <meta property="article:publisher" content="https://www.facebook.com/Sparker0i">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Scala: Add new functions to existing classes">
    <meta name="twitter:description" content="Why extend classes to add a small functionality, when you could just write an implicit class? Read my post on how you too can take advantage of that in Scala">
    <meta name="twitter:url" content="https://blog.sparker0i.me/scala-add-new-functions-to-existing-class/">
    <meta name="twitter:image" content="https://blog.sparker0i.me/content/images/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Aaditya Menon">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Scala">
    <meta name="twitter:site" content="@Sparker0i">
    <meta name="twitter:creator" content="@Sparker0i">
    <meta property="og:image:width" content="1400">
    <meta property="og:image:height" content="933">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Sparker0i&#x27;s Blog",
        "url": "https://blog.sparker0i.me/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.sparker0i.me/content/images/2020/02/6006221719b070975f272141125c0689.png"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Aaditya Menon",
        "image": {
            "@type": "ImageObject",
            "url": "https://blog.sparker0i.me/content/images/2022/02/72678158_2843214719045409_4986419922138562560_n.jpg",
            "width": 2000,
            "height": 2000
        },
        "url": "https://blog.sparker0i.me/author/sparker0i/",
        "sameAs": [
            "https://twitter.com/Sparker0i"
        ]
    },
    "headline": "Scala: Add new functions to existing classes",
    "url": "https://blog.sparker0i.me/scala-add-new-functions-to-existing-class/",
    "datePublished": "2020-04-10T18:09:42.000Z",
    "dateModified": "2020-05-08T17:18:55.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://blog.sparker0i.me/content/images/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png",
        "width": 1400,
        "height": 933
    },
    "keywords": "Scala",
    "description": "Why extend classes to add a small functionality, when you could just write an implicit class? Read my post on how you too can take advantage of that in Scala",
    "mainEntityOfPage": "https://blog.sparker0i.me/scala-add-new-functions-to-existing-class/"
}
    </script>

    <meta name="generator" content="Ghost 5.54">
    <link rel="alternate" type="application/rss+xml" title="Sparker0i&#x27;s Blog" href="https://blog.sparker0i.me/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="4315ec64cd8859e309a18fe281" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://blog.sparker0i.me/" crossorigin="anonymous"></script>
    
    <link href="https://blog.sparker0i.me/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=fe10ead0d3"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=fe10ead0d3">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7XJJR5L4E3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7XJJR5L4E3');
</script>
<meta property="fb:pages" content="110085507196751" />
<meta name="google-site-verification" content="dW-FKUoBj2jzKbsORQiymBPtiZ3ROGD5gseblJwYl80" />
<script data-ad-client="ca-pub-7053772126133454" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><style>:root {--ghost-accent-color: #000000;}</style>

</head>
<body class="post-template tag-scala is-head-left-logo has-sans-body has-cover">
<div class="viewport">

    <header id="gh-head" class="gh-head outer">
        <div class="gh-head-inner inner">
            <div class="gh-head-brand">
                <a class="gh-head-logo" href="https://blog.sparker0i.me">
                        <img src="https://blog.sparker0i.me/content/images/2020/02/6006221719b070975f272141125c0689.png" alt="Sparker0i&#x27;s Blog">
                </a>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-scala"><a href="https://blog.sparker0i.me/tag/scala/">Scala</a></li>
    <li class="nav-spark"><a href="https://blog.sparker0i.me/tag/spark/">Spark</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                        <button class="gh-search gh-icon-btn" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
            </div>
        </div>
    </header>

    <div class="site-content">
        



<main id="site-main" class="site-main">
<article class="article post tag-scala ">

    <header class="article-header gh-canvas">

        <div class="article-tag post-card-tags">
                <span class="post-card-primary-tag">
                    <a href="/tag/scala/">Scala</a>
                </span>
        </div>

        <h1 class="article-title">Add new functions to existing classes the Scala way</h1>

            <p class="article-excerpt">Why extend classes to add a small functionality, when you could just write an implicit class? Read my post on how you too can take advantage of that in Scala</p>

        <div class="article-byline">
        <section class="article-byline-content">

            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/sparker0i/" class="author-avatar">
                        <img class="author-profile-image" src="/content/images/size/w100/2022/02/72678158_2843214719045409_4986419922138562560_n.jpg" alt="Aaditya Menon" />
                    </a>
                </li>
            </ul>

            <div class="article-byline-meta">
                <h4 class="author-name"><a href="/author/sparker0i/">Aaditya Menon</a></h4>
                <div class="byline-meta-content">
                    <time class="byline-meta-date" datetime="2020-04-10">Apr 10, 2020</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 2 min read</span>
                </div>
            </div>

        </section>
        </div>

            <figure class="article-image">
                <img
                    srcset="/content/images/size/w300/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png 300w,
                            /content/images/size/w600/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png 600w,
                            /content/images/size/w1000/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png 1000w,
                            /content/images/size/w2000/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png 2000w"
                    sizes="(min-width: 1400px) 1400px, 92vw"
                    src="/content/images/size/w2000/2020/04/1_ygv4NHtC9Jao-aZPSCMPYg.png"
                    alt="Add new functions to existing classes the Scala way"
                />
            </figure>

    </header>

    <section class="gh-content gh-canvas">
        <h3 id="background">Background</h3><p>A <a href="https://github.com/apache/spark/blob/master/sql/core/src/main/scala/org/apache/spark/sql/package.scala?ref=localhost#L46">Spark <code>DataFrame</code></a> has a better advantage over a <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html?ref=localhost">Pandas <code>DataFrame</code></a> when it comes to the ability to scale and process it. I'm writing more on this in another blog post which will arrive shortly after this one. </p><p>Functionally, both Spark and Pandas have an almost same set of functionalities, and their APIs are not so different either. There's one function which is used extensively in the data science community with Pandas - <code><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.shape.html?ref=localhost">shape()</a></code>. This function returns you the return the row and column count coupled inside a Tuple. Sadly, this functionality isn't available with Spark <code>DataFrame</code> (<a href="https://issues.apache.org/jira/browse/SPARK-27756?ref=localhost">and won't come either</a>).</p><h3 id="implicit-classes-in-scala">Implicit classes in Scala</h3><p>Fortunately, we have Implicit classes in Scala for our rescue. Implicit classes enable us to add some new functionality on top of an existing class' functionalities. To know more about Implicit Classes, you can read <a href="http://www.lihaoyi.com/post/ImplicitDesignPatternsinScala.html?ref=localhost">this</a> article for diving deep. </p><p>First, we need to define a new implicit class with the method we want to add. In this case, I want to add the <code>shape()</code> function on top of the Spark <code>DataFrame</code> class.</p><pre><code class="language-scala">implicit class DataFramePlus(df: DataFrame) {
    def shape(): (Long, Int) = (df.count(), df.columns.length)
}</code></pre><p>Then all you need to do is print the shape of the <code>DataFrame</code>:</p><pre><code class="language-scala">df = spark.read.format("&lt;something&gt;").load("&lt;Filename&gt;")
println(df.shape())</code></pre><p>This solved a major pain point for me without having to extend an existing class.</p><h3 id="best-practice">Best Practice</h3><p>While writing these codes inside the Scala REPL (Scala/Spark Shell on Terminal) might seem a little easier to implement, openly exposing your code for everyone to use isn't a great idea.</p><p>Instead, you could implement the implicit class in a package object like this:</p><pre><code class="language-scala">package me.sparker0i

import org.apache.spark.sql.DataFrame

package object machinelearning {
    implicit class DataFramePlus(df: DataFrame) {
        def shape(): (Long, Int) = (df.count(), df.columns.length)
    }
}</code></pre><p>Then you'll need to add the proper import statement in your class, after which you can use the shape method with any <code>DataFrame</code>:</p><pre><code class="language-scala">package me.sparker0i.machinelearning.regression

import org.apache.spark.sql.DataFrame
import me.sparker0i.machinelearning._

class LinearRegression {
    def function(df: DataFrame): Unit = {
    	println(df.shape())
    }
}</code></pre><h3 id="conclusion">CONCLUSION</h3><p>With this approach of using implicit classes in Scala, we no longer have to extend any existing class just to add additional functionality to it. You define the behavior you want, and then add that behavior to existing class instances after adding the proper <code>import</code> statements.</p><p>Inspired heavily from <a href="https://alvinalexander.com/scala/scala-2.10-implicit-class-example/?ref=localhost">Alvin Alexander's article</a></p>
    </section>


</article>
</main>




            <aside class="read-more-wrap outer">
                <div class="read-more inner">
                        
<article class="post-card post featured">

    <a class="post-card-image-link" href="/running-vs-code-devcontainers-with-x86-runtime-apple-silicon/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2024/04/Rosetta2.jpg 300w,
                    /content/images/size/w600/2024/04/Rosetta2.jpg 600w,
                    /content/images/size/w1000/2024/04/Rosetta2.jpg 1000w,
                    /content/images/size/w2000/2024/04/Rosetta2.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2024/04/Rosetta2.jpg"
            alt="Using Devcontainers to run x86 apps on Apple Silicon Macs, powered by Rosetta"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/running-vs-code-devcontainers-with-x86-runtime-apple-silicon/">
            <header class="post-card-header">
                <div class="post-card-tags">
                        <span class="post-card-featured"><svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4.49365 4.58752C3.53115 6.03752 2.74365 7.70002 2.74365 9.25002C2.74365 10.6424 3.29678 11.9778 4.28134 12.9623C5.26591 13.9469 6.60127 14.5 7.99365 14.5C9.38604 14.5 10.7214 13.9469 11.706 12.9623C12.6905 11.9778 13.2437 10.6424 13.2437 9.25002C13.2437 6.00002 10.9937 3.50002 9.16865 1.68127L6.99365 6.25002L4.49365 4.58752Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
</svg> Featured</span>
                </div>
                <h2 class="post-card-title">
                    How to use Devcontainers to create apps with x86 architecture on an Apple Silicon Mac
                </h2>
            </header>
                <div class="post-card-excerpt">Certain apps and libraries never want to update with time, thus you end up with emulation. Here's how you would develop apps using incompatible libraries on your Apple Silicon Mac.</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2024-04-09">Apr 9, 2024</time>
                <span class="post-card-meta-length">8 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="/podman-best-docker-alternative/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2022/03/podman-vs-docker.jpg 300w,
                    /content/images/size/w600/2022/03/podman-vs-docker.jpg 600w,
                    /content/images/size/w1000/2022/03/podman-vs-docker.jpg 1000w,
                    /content/images/size/w2000/2022/03/podman-vs-docker.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2022/03/podman-vs-docker.jpg"
            alt="Podman with Desktop Companion: The best alternative to Docker Desktop"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/podman-best-docker-alternative/">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Podman with Desktop Companion: The best alternative to Docker Desktop
                </h2>
            </header>
                <div class="post-card-excerpt">Docker Desktop is no longer free for the enterprise. Podman helps you fill the void left by Docker. Know more about it and the installation process in my latest blog post.</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2022-04-03">Apr 3, 2022</time>
                <span class="post-card-meta-length">5 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post featured">

    <a class="post-card-image-link" href="/factors-to-look-dealing-crypto/">

        <img class="post-card-image"
            srcset="https://images.unsplash.com/photo-1621504450181-5d356f61d307?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGNyeXB0b3xlbnwwfHx8fDE2MjgxMDYyOTU&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;300 300w,
                    https://images.unsplash.com/photo-1621504450181-5d356f61d307?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGNyeXB0b3xlbnwwfHx8fDE2MjgxMDYyOTU&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;600 600w,
                    https://images.unsplash.com/photo-1621504450181-5d356f61d307?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGNyeXB0b3xlbnwwfHx8fDE2MjgxMDYyOTU&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;1000 1000w,
                    https://images.unsplash.com/photo-1621504450181-5d356f61d307?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGNyeXB0b3xlbnwwfHx8fDE2MjgxMDYyOTU&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="https://images.unsplash.com/photo-1621504450181-5d356f61d307?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGNyeXB0b3xlbnwwfHx8fDE2MjgxMDYyOTU&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;600"
            alt="Factors to look at while dealing with Cryptocurrencies"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/factors-to-look-dealing-crypto/">
            <header class="post-card-header">
                <div class="post-card-tags">
                        <span class="post-card-featured"><svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4.49365 4.58752C3.53115 6.03752 2.74365 7.70002 2.74365 9.25002C2.74365 10.6424 3.29678 11.9778 4.28134 12.9623C5.26591 13.9469 6.60127 14.5 7.99365 14.5C9.38604 14.5 10.7214 13.9469 11.706 12.9623C12.6905 11.9778 13.2437 10.6424 13.2437 9.25002C13.2437 6.00002 10.9937 3.50002 9.16865 1.68127L6.99365 6.25002L4.49365 4.58752Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
</svg> Featured</span>
                </div>
                <h2 class="post-card-title">
                    Factors to look at while dealing with Cryptocurrencies
                </h2>
            </header>
                <div class="post-card-excerpt">Ever wondered how to research crypto tokens before you buy them, but have no idea where to start? You've ended your search at the right place.</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2021-08-06">Aug 6, 2021</time>
                <span class="post-card-meta-length">9 min read</span>
        </footer>

    </div>

</article>
                </div>
            </aside>



    </div>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="https://blog.sparker0i.me">Sparker0i&#x27;s Blog</a> &copy; 2024</section>
            <nav class="site-footer-nav">
                
            </nav>
            <div class="gh-powered-by"><a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a></div>
        </div>
    </footer>

</div>


<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="/assets/built/casper.js?v=fe10ead0d3"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>

<script>
  var followSocialMedia = {
    youtube: ["https://www.youtube.com/c/sparker0i", "Sparker0i"],
    instagram: ["https://instagram.com/sparker0i", "Sparker0i"],
    github: ["https://github.com/sparker0i", "Sparker0i"],
    linkedin: ["https://www.linkedin.com/in/sparker0i", "Sparker0i"]
  };
</script>

<script>
  var youTube = {
    name: "Sparker0i",
    channelId: "UC720N9wQAevIjCD50x4RliQ",
  };
</script>

<script>
  var disqusShortName = "sparker0is-blog";
</script>

<script>
	var searchSettings = {
        key: "12584d6e462ba2c007d10f133c",
        url: "https://blog.sparker0i.me",
        options: {
          keys: ["title"],
          limit: 10,
        },
        api: {
          resource: "posts",
          parameters: {
            limit: "all",
            fields: ["title", "slug"],
            filter: "",
            include: "",
            order: "",
            formats: "",
          },
        },
    };
</script>

</body>
</html>
